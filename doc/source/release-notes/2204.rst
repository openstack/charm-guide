=================================
22.04 (Draft version in progress)
=================================

The 22.04 OpenStack Charms release includes updates for the charms described on
the :doc:`../reference/openstack-charms` page. As of this release, the project
consists of 62 (...CHANGE IF REQUIRED...) stable charms.

For the list of bugs resolved in this release refer to the `22.04 milestone`_
in Launchpad.

For scheduling information of past and future releases see the
:doc:`../reference/release-schedule`.

.. note::

   Release Notes contents is superseded by updated information published in the
   `OpenStack Charm Guide`_ (this guide) after the release of any given
   OpenStack Charms version.

.. important::

   Always upgrade to the latest stable charms before making any major changes
   to your cloud and before filing bug reports. Note that charm upgrades and
   OpenStack upgrades are functionally different. For instructions on
   performing the different upgrade types see `Upgrades overview`_ in the
   `OpenStack Charms Deployment Guide`_.

.. contents:: Summary of changes:
   :local:
   :depth: 2
   :backlinks: top

New stable charms
-----------------

<TITLE>
~~~~~~~

New stable charm features
-------------------------

With each new feature, there is a corresponding example bundle in the form of a
test bundle, and/or a section in the `OpenStack Charms Deployment Guide`_, that
details its usage. Test bundles are located in the ``src/tests/bundles``
directory of the relevant charm repository (see all `charm repositories`_).

<TITLE>
~~~~~~~

Documentation updates
---------------------

<TITLE>
~~~~~~~

New tech-preview charms
-----------------------

nova-compute-nvidia-vgpu
~~~~~~~~~~~~~~~~~~~~~~~~

The nova-compute-nvidia-vgpu charm provides Nvidia vGPU support to the
OpenStack Nova Compute service. It is a subordinate charm used in conjunction
with the nova-compute principal charm.

New tech-preview charm features
-------------------------------

<TITLE>
~~~~~~~

Informational notices
---------------------

nova-cloud-controller: cpu-allocation-ratio default changed to 2
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The default value for cpu-allocation-ratio has been reduced from 16
to 2.  The old default was more appropriate for dev, test or lab type
environments but is rarely suitable for clouds running production
workloads.  If you were relying on the previous default of 16 and
start to see VM scheduling failures after upgrade of this charm, you
can opt back into a higher contention ratio by running:

``juju config nova-cloud-controller cpu-allocation-ratio=16``

Deprecation notices
-------------------

<TITLE>
~~~~~~~

Removed features
----------------

<TITLE>
~~~~~~~

Removed charms
--------------

<TITLE>
~~~~~~~

Issues discovered during this release cycle
-------------------------------------------

<TITLE>
~~~~~~~

.. LINKS
.. _22.04 milestone: https://launchpad.net/openstack-charms/+milestone/22.04
.. _OpenStack Charms Deployment Guide: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest
.. _OpenStack Charm Guide: https://docs.openstack.org/charm-guide/latest/
.. _Upgrades overview: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/upgrade-overview.html
.. _charm repositories: https://opendev.org/openstack?sort=alphabetically&q=charm-&tab=

.. COMMITS

.. BUGS
